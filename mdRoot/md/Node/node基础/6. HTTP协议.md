#### 名称解释

B/S交互模型：特指基于 浏览器（Browser） 和 服务器（Server） 这种交互形式

服务器：在计算机网络中，专门对外提供资源服务的一台计算机

客户端：在计算机网路中，专门用来消费服务的一台计算机

静态资源：服务端仅需要直接读取数据然后发送给客户端、不需要进一步处理的资源

动态资源：服务端没有现成的资源，需要服务端动态生成的资源

#### 1. 协议和HTTP/HTTPS协议

协议是通信计算机双方必须共同遵从的一组约定。如怎么样建立连接、怎么样互相识别等。只有遵守这个约定，计算机之间才能相互通信交流。它的三要素是：语法、语义、时序。

简单来说，协议就是 通信双方/多方都遵从共同的一个规范。

协议的一些特点：

1） 协议中的每个人都必须了解协议，并且预先知道所要完成的所有的步骤。

2） 协议中的每个人都必须同意并遵循它。

3） 协议必须是清楚的，每一步必须明确定义，并且不会引起误解。

##### 1.1 HTTP/HTTPS协议简介

HTTP协议：超文本传输协议（HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。主要被用于在Web浏览器和网站服务器之间传递信息。 HTTP 是基于 TCP/IP 协议的应用层协议。默认使用80端口。最新版本是HTTP 2.0，目前是用最广泛的是HTTP 1.1。

HTTPS协议：简单来说，可以理解为安全版的HTTP协议，基于TCP/IP协议和SSL/TLS协议之上的应用层协议。默认端口443。

##### 1.2 HTTP协议和HTTPS协议的区别

HTTP协议以明文方式发送内容，不提供任何方式的数据加密，如果攻击者截取了Web浏览器和网站服务器之间的传输报文，就可以直接读懂其中的信息，因此HTTP协议不适合传输一些敏感信息，比如密码等。

为了解决HTTP协议的这一缺陷，需要使用另一种协议：安全套接字层超文本传输协议HTTPS。为了数据传输的安全，HTTPS在HTTP的基础上加入了SSL协议，SSL依靠证书来验证服务器的身份，并为浏览器和服务器之间的通信加密。

HTTPS和HTTP的区别主要为以下四点：

1. https协议需要到ca申请证书，一般免费证书很少，需要交费。
2. http是超文本传输协议，信息是明文传输，https 则是具有安全性的ssl加密传输协议。
3. http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
4. http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

##### 1.3 HTTP协议工作流程

1. 客户端和服务器之间建立一条连接
2. 连接建立后，客户端向服务器发起一个请求（request）
3. 服务器收到一个请求后，给客户端一个响应（应答，response）
4. 客户端收到响应后做进一步处理

##### 1.4 HTTP协议主要特点：无状态

HTTP是一个面向连接的无状态协议。

无状态：同一个客户端的这次请求和上次请求是没有对应关系，对http服务器来说，它并不知道这两个请求来自同一个客户端。这意味着，每一个请求的是独立的，任何两个请求之间无任何记忆关系。如果服务端处理一个请求需要前面的信息，则该信息必须重传。这样做的话，在服务端处理不需要先前信息的请求时，它的应答会比较快。

除了上面这个特点，还有几个其他小特点：

1. 支持客户/服务器模式。支持基本认证和安全认证。
2. 简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。
3. 灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。
4. 在HTTP/1.1之前，使用非持续连接，客户端（浏览器）和服务器每次连接只处理一个请求。服务器处理完客户端的请求，对客户端做出应答后，即断开连接。HTTP/1.1开始，默认都开启了Keep-Alive，保持连接特性，简单地说，当一个网页打开完成后，客户端和服务器之间用于传输HTTP数据的TCP连接不会关闭，如果客户端再次访问这个服务器上的网页，会继续使用这一条已经建立的连接。Keep-Alive不会永久保持连接，它有一个保持时间，可以在不同的服务器软件（如Apache）中设定这个时间。

#### 2. IP和域名

IP：互联网协议地址（Internet Protocol Address），我们可以简单地这样理解：IP是给Internet上的计算机的一个编号。每台连接到因特网上的计算机都需要有IP地址，才能正常通信。计算机和IP的对应关系就像我们的现实中地址和门牌号，电话和电话号码的对应关系一样。

整个互联网是基于TCP/IP协议进行通信和连接的，每一台主机都有一个唯一的标识固定的IP地址，以区别在网络上成千上万的计算机。网络在区分所有与之相连的网络和主机时，均采用了一种唯一、通用的地址格式，即每一个与网络相连接的计算机和服务器都被指派了一个独一无二的地址。

网络中的地址方案分为两套：IP地址系统和域名地址系统。这两套地址系统其实是一一对应的关系。IP地址用二进制数来表示，目前常用是IPv4和IPv6，IPv4是由4个小于256的数字组成，数字之间用点间隔，例如100.10.0.1表示一个IP地址。由于IP地址是数字标识，使用时难以记忆和书写，因此在IP地址的基础上又发展出一种符号化的地址方案，来代替数字型的IP地址。每一个符号化的地址都与特定的IP地址对应，这样网络上的资源访问起来就容易得多了。这个与网络上的数字型IP地址相对应的字符型地址，就被称为域名。

##### 2.1 域名结构

域名由两个或两个以上的词构成，中间由“点号”分隔开，最右边的那个词称为顶级域名。

##### 2.2 常用的顶级域名

1. com  商业组织,公司
2. net  网络服务商
3. org  非营利组织
4. gov  政府
5. edu  教研机构
6. cn   中国国家域名后缀
7. us   美国国家域名后缀
8. in   印度国家域名后缀
9. jp   日本国家域名后缀

##### 2.3 一级域名、二级域名、子域名

一级域名是在顶级域名左面加一级。如：baidu.com、edu.cn、unun.in

二级域名是在一级域名左面加一级。如：baike.baidu.com

二级及以上等级域名统称为子域名


#### 3. DNS（Domain Name System，域名系统）

DNS其实就是域名和IP地址相互映射的一个分布式数据库，用户访问域名后会去到域名使用的DNS系统中去查询对应的IP地址，然后完成访问。域名和IP进行对应设置的过程叫做域名解析。

#### 4. URL 简介

URL中文名字是“统一资源定位符”，是对可以从互联网上得到的资源的位置和访问方法的一种简洁的表示。

URL是URI（统一资源标识符）的一个下属种类，URI确定一个资源，URL不仅确定一个资源，而且还表示该资源在哪里。

##### URL的基本格式

URL主要包含：协议、主机地址（域名或者IP）、路径和文件（URI）

格式：协议://主机[:端口]URI

比如：

1. http://webnote.fun
2. https://www.baidu.com
3. http://webnote.fun/html/666.html
4. http://webnote.fun:80/html/666.html



####  5. HTTP请求格式

HTTP请求由三部分组成：请求行、消息报头、主体信息（请求正文）

> 请求行（请求方法 路径 协议）
>
> 头信息（key和value键值对形式的）
>
> 空行
>
> 主体信息（请求发送的内容，属于可选信息）
>

注：请求头信息和主体信息中间要空一行，即使没有主体信息，空行也不能少。GET方式的请求一般不包含”主体信息”部分，请求数据以地址的形式表现在请求行。如果有主体信息时，需要设置请求长度。如：Content-Length:102。如果是POST请求，需要在头信息中设置Content-Type:application/x-www-form-urlencoded或者multipart/form-data

> GET /1.php HTTP/1.1
>
> Host:127.0.0.1
>
> ……
>
> Connection: close
>

#### 6. HTTP响应的格式：


HTTP响应也有三个部分组成：状态行、响应头信息、响应正文

> 状态行（协议 状态码 状态文字）
>
> 响应头信息（键值对）
>
> 空行
>
> 响应正文（可选）

##### 6.1 状态码

###### 6.1.1 状态码分类

状态代码有三位数字组成，第一个数字定义了响应的类别，且有五种可能取值：

> 1xx：**指示信息**--表示请求已接收，继续处理
>
> 2xx：**成功**--表示请求已被成功接收、理解、接受
>
> 3xx：**重定向**--要完成请求必须进行更进一步的操作
>
> 4xx：**客户端错误**--请求有语法错误或请求无法实现
>
> 5xx：**服务器端错误**--服务器未能实现合法的请求

###### 6.1.2 常见的状态码

> 100 Continue
>
>   初始的请求已经接受，客户应当继续发送请求的其余部分
>
> 101 Switching Protocols
>
>   服务器将遵从客户的请求转换到另外一种协议
>
> 200 OK
>
>   一切正常，对GET和POST请求的应答文档跟在后面
>
> 201 Created
>
>   服务器已经创建了文档，Location头给出了它的URL。
>
> 202 Accepted
>
>   已经接受请求，但处理尚未完成。
>
> 203 Non-Authoritative Information
>
>   文档已经正常地返回，但一些应答头可能不正确，因为使用的是文档的拷贝
>
> 204 No Content
>
>   没有新文档，浏览器应该继续显示原来的文档。如果用户定期地刷新页面，而Servlet可以确定用户文档足够新，这个状态代码是很有用的
>
> 205 Reset Content
>
>   没有新的内容，但浏览器应该重置它所显示的内容。用来强制浏览器清除表单输入内容
>
> 206 Partial Content
>
>   客户发送了一个带有Range头的GET请求，服务器完成了它
>
> 300 Multiple Choices
>
>   客户请求的文档可以在多个位置找到，这些位置已经在返回的文档内列出。如果服务器要提出优先选择，则应该在Location应答头指明。
>
> 301 Moved Permanently
>
>   客户请求的文档在其他地方，新的URL在Location头中给出，浏览器应该自动地访问新的URL。
>
> 302 Found
>
>   类似于301，但新的URL应该被视为临时性的替代，而不是永久性的。
>
> 303 See Other
>
>   类似于301/302，不同之处在于，如果原来的请求是POST，Location头指定的重定向目标文档应该通过GET提取
>
> 304 Not Modified
>
>   客户端有缓冲的文档并发出了一个条件性的请求（一般是提供If-Modified-Since头表示客户只想比指定日期更新的文档）。服务器告诉客户，原来缓冲的文档还可以继续使用。
>
> 305 Use Proxy
>
>   客户请求的文档应该通过Location头所指明的代理服务器提取
>
> 307 Temporary Redirect
>
>   和302（Found）相同。许多浏览器会错误地响应302应答进行重定向，即使原来的请求是 POST，即使它实际上只能在POST请求的应答是303时才能重定向。由于这个原因，HTTP 1.1新增了307，以便更加清除地区分几个状态代码： 当出现303应答时，浏览器可以跟随重定向的GET和POST请求；如果是307应答，则浏览器只能跟随对GET请求的重定向。
>
> 400 Bad Request
>
>   请求出现语法错误。
>
> 401 Unauthorized
>
>   客户试图未经授权访问受密码保护的页面。应答中会包含一个WWW-Authenticate头，浏览器据此显示用户名字/密码对话框，然后在填写合适的Authorization头后再次发出请求。
>
> 403 Forbidden
>
>   资源不可用。
>
> 404 Not Found
>
>   无法找到指定位置的资源
>
> 405 Method Not Allowed
>
>   请求方法（GET、POST、HEAD、Delete、PUT、TRACE等）对指定的资源不适用。
>
> 406 Not Acceptable
>
>   指定的资源已经找到，但它的MIME类型和客户在Accpet头中所指定的不兼容
>
> 407 Proxy Authentication Required
>
>   类似于401，表示客户必须先经过代理服务器的授权。
>
> 408 Request Timeout
>
>   在服务器许可的等待时间内，客户一直没有发出任何请求。客户可以在以后重复同一请求。
>
> 409 Conflict
>
>   通常和PUT请求有关。由于请求和资源的当前状态相冲突，因此请求不能成功。
>
> 410 Gone
>
>   所请求的文档已经不再可用，而且服务器不知道应该重定向到哪一个地址。它和404的不同在于，返回407表示文档永久地离开了指定的位置，而404表示由于未知的原因文档不可用。
>
> 411 Length Required
>
>   服务器不能处理请求，除非客户发送一个Content-Length头。
>
> 412 Precondition Failed
>
>   请求头中指定的一些前提条件失败
>
> 413 Request Entity Too Large
>
>   目标文档的大小超过服务器当前愿意处理的大小。如果服务器认为自己能够稍后再处理该请求，则应该提供一个Retry-After头
>
> 414 Request URI Too Long
>
>   URI太长
>
> 416 Requested Range Not Satisfiable
>
>   服务器不能满足客户在请求中指定的Range头
>
> 500 Internal Server Error
>
>   服务器遇到了意料不到的情况，不能完成客户的请求
>
> 501 Not Implemented
>
>   服务器不支持实现请求所需要的功能。例如，客户发出了一个服务器不支持的PUT请求
>
> 502 Bad Gateway
>
>   服务器作为网关或者代理时，为了完成请求访问下一个服务器，但该服务器返回了非法的应答
>
> 503 Service Unavailable
>
>   服务器由于维护或者负载过重未能应答。例如，Servlet可能在数据库连接池已满的情况下返回503。服务器返回503时可以提供一个Retry-After头
>
> 504 Gateway Timeout
>
>   由作为代理或网关的服务器使用，表示不能及时地从远程服务器获得应答
>
> 505 HTTP Version Not Supported
>
>   服务器不支持请求中所指明的HTTP版本